input {
	file {
		path => 'D:/elasticsearch/logstash/data/apache_access.log'
		start_position => 'beginning'
		type => 'access'
	}
	
	http {
		host => '127.0.0.1'
		port => 8989
		type => 'access'
	}
}

filter {
	grok {
		match => { "message" => '%{COMMONAPACHELOG} "%{GREEDYDATA:referrer}" "%{GREEDYDATA:agent}"' }
	}
	
	mutate {
		convert => {
			"bytes" => "integer"
			"response" => "integer"
		}
	}
	
	date {
		match => ["timestamp" , "dd/MMM/yyyy:HH:mm:ss Z"] #format of field want to parse
	}
}

output{
	stdout{
		codec => rubydebug
	}
	
	file {
		path => '%{type}_%{+yyyy-MM-dd}.log'
	}
}
